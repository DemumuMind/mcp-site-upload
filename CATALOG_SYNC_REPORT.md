# РћС‚С‡РµС‚ РѕР± РёРЅС‚РµРіСЂР°С†РёРё СЃРёСЃС‚РµРј СЃРёРЅС…СЂРѕРЅРёР·Р°С†РёРё РєР°С‚Р°Р»РѕРіР° MCP

## Р§С‚Рѕ Р±С‹Р»Рѕ СЃРґРµР»Р°РЅРѕ

1.  **РРЅС‚РµРіСЂР°С†РёСЏ СЃ Smithery.ai**
    *   РЎРѕР·РґР°РЅ РјРѕРґСѓР»СЊ `lib/catalog/smithery-sync.ts` РґР»СЏ РїР°СЂСЃРёРЅРіР° РѕС„РёС†РёР°Р»СЊРЅРѕРіРѕ СЂРµРµСЃС‚СЂР° Smithery.
    *   Р РµР°Р»РёР·РѕРІР°РЅ РјР°РїРїРёРЅРі РґР°РЅРЅС‹С… (id, owner, repoUrl, tags) РІ С„РѕСЂРјР°С‚ `McpServer`.
    *   Р”РѕР±Р°РІР»РµРЅР° РёРЅС‚РµР»Р»РµРєС‚СѓР°Р»СЊРЅР°СЏ РєР°С‚РµРіРѕСЂРёР·Р°С†РёСЏ (Search, Databases, DevTools Рё РґСЂ.) РЅР° РѕСЃРЅРѕРІРµ РѕРїРёСЃР°РЅРёР№.

2.  **РРЅС‚РµРіСЂР°С†РёСЏ СЃ NPM Registry**
    *   РЎРѕР·РґР°РЅ РјРѕРґСѓР»СЊ `lib/catalog/npm-sync.ts` РґР»СЏ Р°РІС‚РѕРјР°С‚РёС‡РµСЃРєРѕРіРѕ РїРѕРёСЃРєР° РїР°РєРµС‚РѕРІ СЃ РєР»СЋС‡РµРІС‹Рј СЃР»РѕРІРѕРј `mcp-server`.
    *   РўРµРїРµСЂСЊ РІ РєР°С‚Р°Р»РѕРі РїРѕРїР°РґР°СЋС‚ СЃРµСЂРІРµСЂС‹, РєРѕС‚РѕСЂС‹Рµ РјРѕР¶РЅРѕ Р·Р°РїСѓСЃС‚РёС‚СЊ С‡РµСЂРµР· `npx`.

3.  **Р•РґРёРЅС‹Р№ СЌРЅРґРїРѕРёРЅС‚ СѓРїСЂР°РІР»РµРЅРёСЏ (Unified Sync)**
    *   РЎРѕР·РґР°РЅ API РјР°СЂС€СЂСѓС‚ `/api/catalog/sync-all`.
    *   РћСЂРєРµСЃС‚СЂР°С†РёСЏ РІСЃРµС… РёСЃС‚РѕС‡РЅРёРєРѕРІ: GitHub + Smithery + NPM Р·Р° РѕРґРёРЅ РІС‹Р·РѕРІ.
    *   РђРІС‚РѕРјР°С‚РёС‡РµСЃРєР°СЏ РёРЅРІР°Р»РёРґР°С†РёСЏ РєСЌС€Р° Next.js (`revalidatePath`) РїРѕСЃР»Рµ Р·Р°РІРµСЂС€РµРЅРёСЏ СЃРёРЅС…СЂРѕРЅРёР·Р°С†РёРё.

4.  **Р Р°Р·Р±Р»РѕРєРёСЂРѕРІРєР° РјР°СЃС€С‚Р°Р±РёСЂСѓРµРјРѕСЃС‚Рё**
    *   **Р›РёРјРёС‚ 5000:** Р’ `lib/servers.ts` РёСЃРїСЂР°РІР»РµРЅРѕ РѕРіСЂР°РЅРёС‡РµРЅРёРµ РІ 1000 Р·Р°РїРёСЃРµР№. РўРµРїРµСЂСЊ СЃР°Р№С‚ РјРѕР¶РµС‚ РѕС‚РѕР±СЂР°Р¶Р°С‚СЊ РґРѕ 5000 Р°РєС‚РёРІРЅС‹С… СЃРµСЂРІРµСЂРѕРІ.
    *   **Published tools:** РСЃРїСЂР°РІР»РµРЅ РјР°РїРїРёРЅРі РёРЅСЃС‚СЂСѓРјРµРЅС‚РѕРІ. РљРѕРґ РіРѕС‚РѕРІ Рє РїСЂРёРµРјСѓ СЂРµР°Р»СЊРЅС‹С… СЃРїРёСЃРєРѕРІ С„СѓРЅРєС†РёР№ РёР· Р±Р°Р·С‹ РґР°РЅРЅС‹С….

5.  **Р‘РµР·РѕРїР°СЃРЅРѕСЃС‚СЊ**
    *   РЎРіРµРЅРµСЂРёСЂРѕРІР°РЅ Рё РІРЅРµРґСЂРµРЅ `CATALOG_AUTOSYNC_CRON_SECRET`.
    *   Р’СЃРµ СЌРЅРґРїРѕРёРЅС‚С‹ Р·Р°С‰РёС‰РµРЅС‹ РїСЂРѕРІРµСЂРєРѕР№ С‚РѕРєРµРЅР° РІ РїР°СЂР°РјРµС‚СЂР°С… РёР»Рё Р·Р°РіРѕР»РѕРІРєР°С….

---

## Р§С‚Рѕ РґРµР»Р°С‚СЊ РґР°Р»СЊС€Рµ (РџР»Р°РЅ СЂР°Р·РІРёС‚РёСЏ)

1.  **Р”РµС‚Р°Р»СЊРЅС‹Р№ РїР°СЂСЃРёРЅРі README (Priority: High)**
    *   РР·РІР»РµРєР°С‚СЊ РєРѕРЅРєСЂРµС‚РЅС‹Рµ РЅР°Р·РІР°РЅРёСЏ РёРЅСЃС‚СЂСѓРјРµРЅС‚РѕРІ (tools) РїСЂСЏРјРѕ РёР· С‚РµРєСЃС‚Р° README РґР»СЏ С‚РѕС‡РЅРѕРіРѕ Р·Р°РїРѕР»РЅРµРЅРёСЏ СЃС‡РµС‚С‡РёРєР° "Published tools".
    *   Р”РѕСЃС‚Р°РІР°С‚СЊ РёРЅСЃС‚СЂСѓРєС†РёРё РїРѕ РєРѕРЅС„РёРіСѓСЂР°С†РёРё.

2.  **Р”РµРґСѓРїР»РёРєР°С†РёСЏ (Priority: Medium)**
    *   РќР°СЃС‚СЂРѕРёС‚СЊ Р»РѕРіРёРєСѓ РѕР±СЉРµРґРёРЅРµРЅРёСЏ Р·Р°РїРёСЃРµР№, РµСЃР»Рё РѕРґРёРЅ Рё С‚РѕС‚ Р¶Рµ СЃРµСЂРІРµСЂ РЅР°Р№РґРµРЅ Рё РЅР° GitHub, Рё РІ NPM (СЃРєР»РµРёРІР°РЅРёРµ РїРѕ URL СЂРµРїРѕР·РёС‚РѕСЂРёСЏ).

3.  **Health Check РјРѕРЅРёС‚РѕСЂРёРЅРі (Priority: Medium)**
    *   РђРІС‚РѕРјР°С‚РёС‡РµСЃРєРё РїСЂРѕРІРµСЂСЏС‚СЊ РґРѕСЃС‚СѓРїРЅРѕСЃС‚СЊ СЃСЃС‹Р»РѕРє РЅР° СЃРµСЂРІРµСЂС‹ Рё СЂРµРїРѕР·РёС‚РѕСЂРёРё.
    *   РџРѕРјРµС‡Р°С‚СЊ "Р·Р°Р±СЂРѕС€РµРЅРЅС‹Рµ" РёР»Рё РЅРµСЂР°Р±РѕС‚Р°СЋС‰РёРµ РїСЂРѕРµРєС‚С‹ РІ РєР°С‚Р°Р»РѕРіРµ.

4.  **РђРІС‚РѕРјР°С‚РёР·Р°С†РёСЏ РІРёР·СѓР°Р»РѕРІ (Priority: Low)**
    *   РЎР±РѕСЂ Р»РѕРіРѕС‚РёРїРѕРІ СЂР°Р·СЂР°Р±РѕС‚С‡РёРєРѕРІ СЃ GitHub/NPM.
    *   Р“РµРЅРµСЂР°С†РёСЏ РїСЂРµРІСЊСЋ-СЃРєСЂРёРЅС€РѕС‚РѕРІ РґР»СЏ СЃС‚СЂР°РЅРёС† СЃРµСЂРІРµСЂРѕРІ.

---

## РљР°Рє Р·Р°РїСѓСЃС‚РёС‚СЊ РїРѕР»РЅСѓСЋ СЃРёРЅС…СЂРѕРЅРёР·Р°С†РёСЋ СЃРµР№С‡Р°СЃ
РСЃРїРѕР»СЊР·СѓР№С‚Рµ URL:
`http://localhost:3000/api/catalog/sync-all?secret=<CATALOG_AUTOSYNC_CRON_SECRET>`

